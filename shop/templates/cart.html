{% extends 'base.html' %}
{% block title %}‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ | OnGoShop{% endblock %}
{% block content %}
<h1 class="title has-text-light">üõçÔ∏è ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>

{% if items %}
  <div class="table-container">
    <table class="table is-fullwidth is-striped is-hoverable has-text-centered">
      <thead>
        <tr class="has-background-link-dark has-text-white">
          <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
          <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
          <th>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
          <th>‡∏£‡∏ß‡∏°</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for it in items %}
        <tr>
          <td>{{ it.product.name }}</td>
          <td>
            <form action="{% url 'shop:update_cart' %}" method="POST" class="is-inline">
              {% csrf_token %}
              <input type="hidden" name="product_id" value="{{ it.product.id }}">
              <div class="buttons has-addons is-centered">
                <button name="action" value="decrease" class="button is-small is-dark">-</button>
                <span class="button is-small is-static">{{ it.quantity }}</span>
                <button name="action" value="increase" class="button is-small is-dark">+</button>
              </div>
            </form>
          </td>
          <td>{{ it.product.price }} ‡∏ø</td>
          <td>{{ it.subtotal }} ‡∏ø</td>
          <td>
            <form action="{% url 'shop:remove_from_cart' %}" method="POST">
              {% csrf_token %}
              <input type="hidden" name="product_id" value="{{ it.product.id }}">
              <button type="submit" class="button is-danger is-light">
                üóëÔ∏è
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="has-text-right">
    <h2 class="title is-5 has-text-white">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: {{ total }} ‡∏ø</h2>
    <a href="{% url 'shop:checkout' %}" class="button is-magenta is-medium">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
  </div>
{% else %}
  <div class="notification is-warning">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</div>
{% endif %}
{% endblock %}
