{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}OnGoShop{% endblock %}</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"
  >
</head>
<body>
  <nav class="navbar is-link" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item has-text-weight-bold" href="{% url 'shop:product_list' %}">
        üõí OnGoShop
      </a>
    </div>

    <div class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="{% url 'shop:product_list' %}">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
        <a class="navbar-item" href="{% url 'shop:cart' %}">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</a>
      </div>

      <div class="navbar-end">
        {% if user.is_authenticated %}
            {% if user.is_staff %}
                <div class="navbar-item">
                    <a class="button is-warning is-light" href="{% url 'shop:admin_product_list' %}">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
                </div>
            {% endif %}
            <div class="navbar-item">
                <a class="button is-light" href="{% url 'shop:my_orders' %}">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</a>
            </div>
            <div class="navbar-item">
                <p>üëã {{ user.username }}</p>
            </div>
            <div class="navbar-item">
                <a class="button is-light" href="{% url 'shop:logout' %}">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
            </div>
        {% else %}
            <div class="navbar-item">
                <a class="button is-light" href="{% url 'shop:login' %}">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
            </div>
            <div class="navbar-item">
                <a class="button is-link" href="{% url 'shop:register' %}">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
            </div>
        {% endif %}
      </div>
        <div class="navbar-item">
          <form action="{% url 'shop:product_list' %}" method="get">
            <div class="field has-addons">
              <div class="control">
                <input class="input" type="search" name="q" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...">
              </div>
              <div class="control">
                <button class="button is-light">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </nav>

  <section class="section">
    <div class="container">
        {% if messages %}
            {% for message in messages %}
                {% if message.tags == 'error' %}
                    <div class="notification is-danger">{{ message }}</div>
                {% elif message.tags == 'success' %}
                    <div class="notification is-success">{{ message }}</div>
                {% elif message.tags == 'info' %}
                    <div class="notification is-info">{{ message }}</div>
                {% else %}
                    <div class="notification">{{ message }}</div>
                {% endif %}
            {% endfor %}
        {% endif %}

        {% block content %}{% endblock %}
    </div>
  </section>

  <footer class="footer has-text-centered">
    <p>¬© 2025 OnGoShop ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö E-commerce</p>
  </footer>
</body>
</html>
